(()=>{"use strict";var e,t={32:(e,t,a)=>{const l=window.wp.blocks,r=window.React,n=window.wp.blockEditor,o=(window.wp.editor,window.wp.components),i=window.wp.element,c={x:0,y:0,label:"",style:"light",styleToggle:!1},s=JSON.parse('{"u2":"whydesign-blocks/why-uk-marker"}'),m=a.p+"images/example.1b7301d5.png";(0,l.registerBlockType)(s.u2,{example:{attributes:{image:m},viewportWidth:362},edit:function({attributes:e,setAttributes:t}){const[a,l]=(0,i.useState)(-1),[s,m]=(0,i.useState)(!0);return(0,r.createElement)("div",{...(0,n.useBlockProps)()},(0,r.createElement)(o.Panel,null,(0,r.createElement)("div",{className:"marker-block"},(0,r.createElement)(n.BlockControls,null,(0,r.createElement)(o.ToolbarGroup,null,(0,r.createElement)(n.MediaUpload,{onSelect:e=>t({image:e.sizes.full.url}),render:({open:t})=>(0,r.createElement)(o.Button,{className:"image-button has-icon",onClick:t,icon:"format-image",label:e.image?"Change Image":"Select Image"})}))),e.image?(0,r.createElement)("div",{className:"marker-image-container"},(0,r.createElement)("img",{src:e.image,onClick:a=>{if(2==a.detail){const l=a.target.getBoundingClientRect(),r=(a.clientX-l.left)/l.width,n=(a.clientY-l.top)/l.height,o=[...e.marker,{...c,x:r,y:n}];t({marker:o})}},className:"marker-image"}),e.marker.map(((n,i)=>(0,r.createElement)("div",{key:i,className:"uk-marker "+(a===i?"active":""),"data-x":n.x,"data-y":n.y,"data-label":n.label,"data-style":n.styleToggle,style:{left:100*n.x+"%",top:100*n.y+"%"},onClick:e=>{e.preventDefault(),((e,t)=>{const a=t.target.closest(".marker-image-container"),r=t.target.closest("button");l(!a&&r?-1:e)})(i,e)}},n.label&&(0,r.createElement)("div",{className:"marker-label"},n.label),a===i&&(0,r.createElement)("div",{className:"marker-options"},(0,r.createElement)(o.Modal,{focusOnMount:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,overlayClassName:"marker-modal-overlay",title:"Edit Marker"},(0,r.createElement)("label",null,(0,r.createElement)(o.TextControl,{type:"text",value:n.label,placeholder:"Label / Name",onChange:a=>((a,l)=>{const r=[...e.marker];r[l].label=a,t({marker:r})})(a,i)})),(0,r.createElement)("label",null,(0,r.createElement)(o.TextControl,{type:"text",value:n.link,onChange:a=>((a,l)=>{const r=[...e.marker];r[l].link=a,t({marker:r})})(a,i),placeholder:"Link URL"})),(0,r.createElement)("div",null,(0,r.createElement)(o.Flex,{gap:2,align:"center",justify:"space-between"},(0,r.createElement)(o.FlexItem,{style:{alignItems:"center",padding:"10px 0",display:"flex"}},(0,r.createElement)("label",{htmlFor:"style-toggle"},"Marker Style:")),(0,r.createElement)(o.FlexBlock,{style:{alignItems:"center",padding:"10px 0",display:"flex"}},(0,r.createElement)(o.FormToggle,{id:"style-toggle",checked:n.styleToggle,onClick:a=>((a,l)=>{const r=[...e.marker];r[l].style=s?"dark":"light",r[l].styleToggle=s,m((e=>!e)),t({marker:r})})(0,i)})," ",(0,r.createElement)("span",{style:{margin:"0 0 0 7px"}},n.styleToggle?"dark":"light")))),(0,r.createElement)(o.ButtonGroup,null,(0,r.createElement)(o.Button,{icon:"yes",isPrimary:!0},"Save"),(0,r.createElement)(o.Button,{className:"remove-button",onClick:()=>(a=>{const l=[...e.marker];l.splice(a,1),t({marker:l})})(i),icon:"dismiss",isDestructive:!0},"Remove")))))))):(0,r.createElement)(o.Placeholder,{label:"UIkit Image Marker",instructions:"Select an image to add image markers",isColumnLayout:!0},(0,r.createElement)("div",{style:{backgroundColor:"#e7e7e7",padding:"56px 64px",display:"flex",justifyContent:"center"}},(0,r.createElement)(n.MediaUpload,{onSelect:e=>t({image:e.sizes.full.url}),render:({open:e})=>(0,r.createElement)(o.Button,{isSecondary:!0,onClick:e,icon:"format-image"},"Select image")}))))))},save:function({attributes:e}){const{image:t,marker:a}=e;return(0,r.createElement)("div",{className:"marker-block"},(0,r.createElement)("div",{className:"uk-inline uk-dark"},(0,r.createElement)("img",{src:t}),a.map(((e,t)=>(0,r.createElement)("a",{key:t,className:e.style+" uk-position-absolute uk-transform-center marker","data-x":e.x,"data-y":e.y,"data-label":e.label,style:{left:100*e.x+"%",top:100*e.y+"%"},href:e.link,target:"_blank",rel:"noopener noreferrer","uk-marker":"","uk-tooltip":e.label})))))}})}},a={};function l(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,r,n)=>{if(!a){var o=1/0;for(m=0;m<e.length;m++){for(var[a,r,n]=e[m],i=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(i=!1,n<o&&(o=n));if(i){e.splice(m--,1);var s=r();void 0!==s&&(t=s)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,r,n]},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&!e;)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[o,i,c]=a,s=0;if(o.some((t=>0!==e[t]))){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(c)var m=c(l)}for(t&&t(a);s<o.length;s++)n=o[s],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(m)},a=globalThis.webpackChunkUIkit_Marker=globalThis.webpackChunkUIkit_Marker||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=l.O(void 0,[431],(()=>l(32)));r=l.O(r)})();